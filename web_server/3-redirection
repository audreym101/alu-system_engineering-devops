#!/usr/bin/env bash
# This script installs Nginx and configures a 301 redirect from /redirect_me to a specified URL

# Step 1: Update package list and install Nginx if it's not already installed
sudo apt update
sudo apt install -y nginx

# Step 2: Configure Nginx to add a 301 redirect for /redirect_me
# Use sed to find and replace the server block to add the redirect
sudo sed -i '/server_name _;/a \\tlocation /redirect_me {\n\t\treturn 301 https://www.youtube.com/watch?v=QH2-TGUlwu4;\n\t}' /etc/nginx/sites-available/default

# Step 3: Restart Nginx to apply the configuration
sudo systemctl restart nginx

echo "Nginx has been configured with a 301 redirect for /redirect_me"

